<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_production_lot_form" model="ir.ui.view">
            <field name="name">stock.production.lot</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.view_production_lot_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='product_id']" position="attributes">
                    <attribute name="context">{'created_from_serial':True, 'default_purchase_ok':
                        False,'default_sale_ok': False,'default_â€‹can_be_expensed': False}
                    </attribute>
                </xpath>
                <xpath expr="//field[@name='ref']" position="after">
                    <field name="lot_tag_id"/>
                    <field name="partner_id" readonly="True"/>
                </xpath>
                <xpath expr="/form/*" position="before">
                    <header>
                        <button name="location" type="object" string="Capture Location" widget="geo"/>
                    </header>
                </xpath>
                <xpath expr="//notebook/page[last()]" position="after">
                    <page string="Geofenc">
                        <group col="2">
                            <group col="4">
                                <field name="serial_map_address" widget="location_map" class="oe_inline"/>
                            </group>
                            <group>
                                <field name="serial_latitude" placeholder="0.0"/>
                                <field name="serial_longitude" placeholder="0.0"/>
                            </group>
                        </group>
                    </page>

                </xpath>


            </field>
        </record>

        <record id="search_product_lot_filter" model="ir.ui.view">
            <field name="name">stock.production.lot</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.search_product_lot_filter"/>
            <field name="arch" type="xml">

                <xpath expr="//filter[@name='group_by_product']" position="after">
                    <filter name="group_by_customer" string="Customer" domain="[]"
                            context="{'group_by': 'partner_id'}"/>
                </xpath>

            </field>
        </record>
        <record id="view_production_lot_tree" model="ir.ui.view">
            <field name="name">stock.production.lot.tree</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.view_production_lot_tree"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='ref']" position="after">
                    <field name="lot_tag_id"/>
                </xpath>

            </field>
        </record>


        <template id="assets_backend" name="geo_location_updates" inherit_id="web.assets_backend">
            <xpath expr="//script[last()]" position="after">
                <script type="text/javascript" src="/ejaf_helpdesk_ticket_serial/static/src/js/init_config.js"/>
                <script type="text/javascript" src="/ejaf_helpdesk_ticket_serial/static/src/js/google_map_widget.js"/>
                <script type="text/javascript" src="/ejaf_helpdesk_ticket_serial/static/src/js/location_map_widget.js"/>
                <script type="text/javascript" src="/ejaf_helpdesk_ticket_serial/static/src/js/geo.js"/>
            </xpath>
        </template>


    </data>
</odoo>
